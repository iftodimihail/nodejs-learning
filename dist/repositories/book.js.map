{"version":3,"sources":["../../src/repositories/book.js"],"names":["db","bookModel","Book","index","findAll","order","console","error","store","body","create","show","id","findByPk","update","where","destroy","book"],"mappings":";;;;;;;;kBAAe,UAACA,EAAD,EAAQ;;AAErB,MAAMC,YAAYD,GAAGE,IAArB;;AAEA,MAAMC;AAAA,uEAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEGF,UAAUG,OAAV,CAAkB;AAC7BC,uBAAO,CACL,CAAC,IAAD,EAAO,MAAP,CADK;AADsB,eAAlB,CAFH;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAQVC,sBAAQC,KAAR;AARU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAR;;AAAA;AAAA;AAAA;AAAA,KAAN;;AAaA,MAAMC;AAAA,wEAAQ,kBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEGR,UAAUS,MAAV,CAAiBD,IAAjB,CAFH;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAIVH,sBAAQC,KAAR;AAJU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAR;;AAAA;AAAA;AAAA;AAAA,KAAN;;AASA,MAAMI;AAAA,wEAAO,kBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEIX,UAAUY,QAAV,CAAmBD,EAAnB,CAFJ;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAITN,sBAAQC,KAAR;AAJS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;;AAAA;AAAA;AAAA;AAAA,KAAN;;AASA,MAAMO;AAAA,wEAAS,kBAAOF,EAAP,EAAWH,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAELR,UAAUa,MAAV,CAAiBL,IAAjB,EAAuB,EAAEM,OAAO,EAAEH,MAAF,EAAT,EAAvB,CAFK;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAIXN,sBAAQC,KAAR;AAJW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAT;;AAAA;AAAA;AAAA;AAAA,KAAN;;AASA,MAAMS;AAAA,wEAAU,kBAAOJ,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEOX,UAAUY,QAAV,CAAmBD,EAAnB,CAFP;;AAAA;AAENK,kBAFM;;AAAA,mBAGRA,IAHQ;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAIJA,KAAKD,OAAL,EAJI;;AAAA;AAAA,gDAMLC,IANK;;AAAA;AAAA;AAAA;;AAQZX,sBAAQC,KAAR;AARY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAV;;AAAA;AAAA;AAAA;AAAA,KAAN;;AAcA,SAAO;AACLJ,gBADK;AAELK,gBAFK;AAGLG,cAHK;AAILG,kBAJK;AAKLE;AALK,GAAP;AAOD,C","file":"book.js","sourcesContent":["export default (db) => {\r\n\r\n  const bookModel = db.Book;\r\n\r\n  const index = async () => {\r\n    try {\r\n      return await bookModel.findAll({\r\n        order: [\r\n          ['id', 'DESC']\r\n        ]\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const store = async (body) => {\r\n    try {\r\n      return await bookModel.create(body);\r\n    } catch (err) {\r\n      console.error(err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const show = async (id) => {\r\n    try {\r\n      return await bookModel.findByPk(id);\r\n    } catch (err) {\r\n      console.error(err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const update = async (id, body) => {\r\n    try {\r\n      await bookModel.update(body, { where: { id } });\r\n    } catch (err) {\r\n      console.error(err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const destroy = async (id) => {\r\n    try {\r\n      const book = await bookModel.findByPk(id);\r\n      if (book) {\r\n        await book.destroy();\r\n      }\r\n      return book;\r\n    } catch (err) {\r\n      console.error(err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n\r\n  return {\r\n    index,\r\n    store,\r\n    show,\r\n    update,\r\n    destroy\r\n  };\r\n}\r\n"]}